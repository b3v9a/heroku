html
  head
    //TODO: make titles dynamic
    //title= title

    body(style='background-color:grey;')

    link(rel='stylesheet', href='/stylesheets/style.css')
    script( src='//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js' )
    script( src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js' )

    //- Bootstrap stuff
    meta( charset='utf-8' )
    meta( http-equiv='X-UA-Compatible', content='IE=edge' )
    meta( name='viewport', content='width=device-width, initial-scale=1.0' )
    meta( name='description', content='Baking Bootstrap Snippets with Jade' )

    //- Bootswatch Theme
    link(href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.6/cyborg/bootstrap.min.css", rel="stylesheet")


  body
    script(type='text/javascript').
      $(document).ready(function () {
        $("body").tooltip({selector: '[data-toggle=tooltip]'});
      });

    script(type='text/javascript').
      $(document).ready(function () {
        $('[data-toggle="popoverComic"]').popover({
          html: true,
          trigger: 'click',
          content: function() {
            var restURL;
            var message;
            if ($(this).data('inlist') === true) {
              restURL = '/readinglist/remove';
              message = 'Remove from Reading List'
            } else {
              restURL = '/readinglist/add';
              message = 'Add to Reading List'
            }
            return (
              "<form method='post' action=" + restURL + ">" +
              "<input type='hidden' name='username' value=" + $(this).data('username') + ">" +
              "<input type='hidden' name='comicid' value=" + $(this).data('comicid') + ">" +
              "<input type='image' src='" + $(this).data('image') + "' alt='" + message +
              "'/></form>" + "<h6>" + message + "</h6>"
            )
          }
          //content: function () {
            //var icons;
            //icons = '<img src="' + '/images/reading-list.jpg' + '" />';
            // TODO add rating icons here
            //return icons;
            //}
        });
      });
    .container
    //- Navbar with dropdowns, default color
    nav.navbar.navbar-default( role="navigation" )
      .navbar-header
        button.navbar-toggle.collapsed( type="button", data-toggle="collapse", data-target="#navbar-inverse", aria-expanded="false", aria-controls="navbar")
          span.sr-only Toggle navigation
          span.icon-bar
          span.icon-bar
          span.icon-bar
        a.navbar-brand(href="/") SLOTH COMICS

      #navbar-inverse.collapse.navbar-collapse
        ul.nav.navbar-nav.navbar-left
          li: a( href="/search") Search
          li: a( href="/comics/addcomic") Add Comic
          li: a( href="/register") Register
        if (!user)
          ul.nav.pull-right
            li.dropdown
              a.dropdown-toggle( href="#", data-toggle="dropdown", role="button", aria-expanded="false" ) Login
                span.caret
              ul.dropdown-menu( role="menu" )
                form(role='form', action="/login", method="post", style='max-width: 300px;')
                  .form-group
                    input.form-control(type='text', name="username", placeholder='Username')
                  .form-group
                    input.form-control(type='password', name="password", placeholder='Password')
                  button.btn.btn-default(type='submit') Submit
        if (user)
          ul.nav.pull-right
            li.dropdown
              a.dropdown-toggle( href="#", data-toggle="dropdown", role="button", aria-expanded="false" ) Welcome #{user.firstname}!
                span.caret
              ul.dropdown-menu( role="menu" )
                li: a( href="/account") Account Details
                li: a( href="/readinglist") Reading List
                li: a( href="/comics/drafts") Drafts
                li: a( href="/logout") Logout
  block content